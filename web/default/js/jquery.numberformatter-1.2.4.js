!function(D){var l=new Hashtable,o=[[".",","],[",","."],[","," "],[".","'"]],f=[["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],["bg","cz","fi","fr","no","pl","ru","se"],["ch"]];function u(e,r,t){this.dec=e,this.group=r,this.neg=t}function L(e,r){0==l.size()&&function(){for(var e=0;e<f.length;e++)for(var r=f[e],t=0;t<r.length;t++)l.put(r[t],e)}();var t=".",n=",";0==r&&(-1!=e.indexOf("_")?e=e.split("_")[1].toLowerCase():-1!=e.indexOf("-")&&(e=e.split("-")[1].toLowerCase()));var a=l.get(e);if(a){var i=o[a];i&&(t=i[0],n=i[1])}return new u(t,n,"-")}D.fn.formatNumber=function(t,n,a){return this.each(function(){var e;null==n&&(n=!0),null==a&&(a=!0),e=D(this).is(":input")?new String(D(this).val()):new String(D(this).text());var r=D.formatNumber(e,t);if(n&&(D(this).is(":input")?D(this).val(r):D(this).text(r)),a)return r})},D.formatNumber=function(e,r){for(var t=L((r=D.extend({},D.fn.formatNumber.defaults,r)).locale.toLowerCase(),r.isFullLocale),n=(t.dec,t.group,t.neg,"0#-,."),a="",i=!1,l=0;l<r.format.length;l++)if(-1==n.indexOf(r.format.charAt(l)))a+=r.format.charAt(l);else{if(0!=l||"-"!=r.format.charAt(l))break;i=!0}var o="";for(l=r.format.length-1;0<=l&&-1==n.indexOf(r.format.charAt(l));l--)o=r.format.charAt(l)+o;r.format=r.format.substring(a.length),r.format=r.format.substring(0,r.format.length-o.length);var f=new Number(e);return D._formatNumber(f,r,o,a,i)},D._formatNumber=function(e,r,t,n,a){var i=L((r=D.extend({},D.fn.formatNumber.defaults,r)).locale.toLowerCase(),r.isFullLocale),l=i.dec,o=i.group,f=i.neg;null!=r.overrideGroupSep&&(o=r.overrideGroupSep),null!=r.overrideDecSep&&(l=r.overrideDecSep),null!=r.overrideNegSign&&(f=r.overrideNegSign);var u=!1;if(isNaN(e)){if(1!=r.nanForceZero)return"";u=!(e=0)}(1==r.isPercentage||r.autoDetectPercentage&&"%"==t.charAt(t.length-1))&&(e*=100);var s="";if(-1<r.format.indexOf(".")){var c=l,g=r.format.substring(r.format.lastIndexOf(".")+1);if(1==r.round)e=new Number(e.toFixed(g.length));else{var h=e.toString();0<h.lastIndexOf(".")&&(h=h.substring(0,h.lastIndexOf(".")+g.length+1)),e=new Number(h)}var d=new Number(e.toString().substring(e.toString().indexOf(".")));decimalString=new String(d.toFixed(g.length)),decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var m=0;m<g.length;m++)if("#"!=g.charAt(m)||"0"==decimalString.charAt(m)){if("#"==g.charAt(m)&&"0"==decimalString.charAt(m)){if(decimalString.substring(m).match("[1-9]")){c+=decimalString.charAt(m);continue}break}"0"==g.charAt(m)&&(c+=decimalString.charAt(m))}else c+=decimalString.charAt(m);s+=c}else e=Math.round(e);var v=Math.floor(e);e<0&&(v=Math.ceil(e));var p="";p=-1==r.format.indexOf(".")?r.format:r.format.substring(0,r.format.indexOf("."));var S="";if(0!=v||"#"!=p.substr(p.length-1)||u){var b=new String(Math.abs(v)),x=9999;-1!=p.lastIndexOf(",")&&(x=p.length-p.lastIndexOf(",")-1);var N=0;for(m=b.length-1;-1<m;m--)S=b.charAt(m)+S,++N==x&&0!=m&&(S=o+S,N=0);if(p.length>S.length){var w=p.indexOf("0");if(-1!=w)for(var A=p.length-w,O=p.length-S.length-1;S.length<A;){var F=p.charAt(O);","==F&&(F=o),S=F+S,O--}}}return S||-1===p.indexOf("0",p.length-1)||(S="0"),s=S+s,e<0&&a&&0<n.length?n=f+n:e<0&&(s=f+s),r.decimalSeparatorAlwaysShown||s.lastIndexOf(l)==s.length-1&&(s=s.substring(0,s.length-1)),s=n+s+t},D.fn.parseNumber=function(e,r,t){var n;null==r&&(r=!0),null==t&&(t=!0),n=D(this).is(":input")?new String(D(this).val()):new String(D(this).text());var a=D.parseNumber(n,e);if(a&&(r&&(D(this).is(":input")?D(this).val(a.toString()):D(this).text(a.toString())),t))return a},D.parseNumber=function(e,r){var t=L((r=D.extend({},D.fn.parseNumber.defaults,r)).locale.toLowerCase(),r.isFullLocale),n=t.dec,a=t.group,i=t.neg;null!=r.overrideGroupSep&&(a=r.overrideGroupSep),null!=r.overrideDecSep&&(n=r.overrideDecSep),null!=r.overrideNegSign&&(i=r.overrideNegSign);for(var l=".-",o=r.strict;-1<e.indexOf(a);)e=e.replace(a,"");e=e.replace(n,".").replace(i,"-");var f="",u=!1;(1==r.isPercentage||r.autoDetectPercentage&&"%"==e.charAt(e.length-1))&&(u=!0);for(var s=0;s<e.length;s++)if(-1<"1234567890".indexOf(e.charAt(s)))f+=e.charAt(s);else if(-1<l.indexOf(e.charAt(s)))f+=e.charAt(s),l=l.replace(e.charAt(s),"");else{if(r.allowPostfix)break;if(o){f="NaN";break}}var c=new Number(f);if(u){c/=100;var g=f.indexOf(".");if(-1!=g){var h=f.length-g-1;c=c.toFixed(h+2)}else c=c.toFixed(2)}return c},D.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,autoDetectPercentage:!0,isFullLocale:!1,strict:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:!1},D.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:!1,autoDetectPercentage:!0},Number.prototype.toFixed=function(e){return D._roundNumber(this,e)},D._roundNumber=function(e,r){var t=Math.pow(10,r||0),n=String(Math.round(e*t)/t);if(0<r){var a=n.indexOf(".");for(a=-1==a?(n+=".",0):n.length-(a+1);a<r;)n+="0",a++}return n}}(jQuery);