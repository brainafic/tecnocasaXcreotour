var Hashtable=function(){var a="function",u=typeof Array.prototype.splice==a?function(t,n){t.splice(n,1)}:function(t,n){var e,r,i;if(n===t.length-1)t.length=n;else for(e=t.slice(n+1),t.length=n,r=0,i=e.length;r<i;++r)t[n+r]=e[r]};function i(n){var t;if("string"==typeof n)return n;if(typeof n.hashCode==a)return"string"==typeof(t=n.hashCode())?t:i(t);if(typeof n.toString==a)return n.toString();try{return String(n)}catch(t){return Object.prototype.toString.call(n)}}function n(t,n){return t.equals(n)}function e(t,n){return typeof n.equals==a?n.equals(t):t===n}function t(n){return function(t){if(null===t)throw new Error("null is not a valid "+n);if(void 0===t)throw new Error(n+" must not be undefined")}}var c=t("key"),y=t("value");function g(t,n,e,r){this[0]=t,this.entries=[],this.addEntry(n,e),null!==r&&(this.getEqualityFunction=function(){return r})}function r(i){return function(t){for(var n,e=this.entries.length,r=this.getEqualityFunction(t);e--;)if(r(t,(n=this.entries[e])[0]))switch(i){case 0:return!0;case 1:return n;case 2:return[e,n[1]]}return!1}}function o(i){return function(t){for(var n=t.length,e=0,r=this.entries.length;e<r;++e)t[n+e]=this.entries[e][i]}}function v(t,n){var e=t[n];return e&&e instanceof g?e:null}return g.prototype={getEqualityFunction:function(t){return typeof t.equals==a?n:e},getEntryForKey:r(1),getEntryAndIndexForKey:r(2),removeEntryForKey:function(t){var n=this.getEntryAndIndexForKey(t);return n?(u(this.entries,n[0]),n[1]):null},addEntry:function(t,n){this.entries[this.entries.length]=[t,n]},keys:o(0),values:o(1),getEntries:function(t){for(var n=t.length,e=0,r=this.entries.length;e<r;++e)t[n+e]=this.entries[e].slice(0)},containsKey:r(0),containsValue:function(t){for(var n=this.entries.length;n--;)if(t===this.entries[n][1])return!0;return!1}},function n(e,r){var f=this,o=[],s={},l=typeof e==a?e:i,h=typeof r==a?r:null;this.put=function(t,n){c(t),y(n);var e,r,i=l(t),u=null;return(e=v(s,i))?(r=e.getEntryForKey(t))?(u=r[1],r[1]=n):e.addEntry(t,n):(e=new g(i,t,n,h),o[o.length]=e,s[i]=e),u},this.get=function(t){c(t);var n=l(t),e=v(s,n);if(e){var r=e.getEntryForKey(t);if(r)return r[1]}return null},this.containsKey=function(t){c(t);var n=l(t),e=v(s,n);return!!e&&e.containsKey(t)},this.containsValue=function(t){y(t);for(var n=o.length;n--;)if(o[n].containsValue(t))return!0;return!1},this.clear=function(){o.length=0,s={}},this.isEmpty=function(){return!o.length};var t=function(e){return function(){for(var t=[],n=o.length;n--;)o[n][e](t);return t}};this.keys=t("keys"),this.values=t("values"),this.entries=t("getEntries"),this.remove=function(t){c(t);var n,e=l(t),r=null,i=v(s,e);return i&&null!==(r=i.removeEntryForKey(t))&&(i.entries.length||(n=function(t,n){for(var e=t.length;e--;)if(n===t[e][0])return e;return null}(o,e),u(o,n),delete s[e])),r},this.size=function(){for(var t=0,n=o.length;n--;)t+=o[n].entries.length;return t},this.each=function(t){for(var n,e=f.entries(),r=e.length;r--;)t((n=e[r])[0],n[1])},this.putAll=function(t,n){for(var e,r,i,u,o=t.entries(),s=o.length,l=typeof n==a;s--;)r=(e=o[s])[0],i=e[1],l&&(u=f.get(r))&&(i=n(r,u,i)),f.put(r,i)},this.clone=function(){var t=new n(e,r);return t.putAll(f),t}}}();